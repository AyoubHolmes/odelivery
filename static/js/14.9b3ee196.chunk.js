(this.webpackJsonpodeliveryui=this.webpackJsonpodeliveryui||[]).push([[14],{119:function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));var n=a(0),r=a.n(n),c=a(379);function i(e){return r.a.createElement(c.a,{component:"h1",variant:"h6",color:"primary",gutterBottom:!0},e.children)}},131:function(e,t,a){"use strict";var n=a(13),r=a(0),c=a.n(r),i=a(703),l=a(707),o=a(706),u=a(704),s=a(705),m=a(119),d=a(152),f=a.n(d),p=a(153),b=a.n(p),E=a(154),h=a.n(E),v=a(3),k=a(46),g=a(114);t.a=Object(v.withRouter)((function(e){var t=Object(r.useContext)(g.a);return Object(r.useEffect)((function(){console.log(e.rows)}),[e.rows]),c.a.createElement(c.a.Fragment,null,c.a.createElement(m.a,null,e.title),c.a.createElement(i.a,{size:"small"},c.a.createElement(u.a,null,c.a.createElement(s.a,null,e.header.map((function(e,t){return c.a.createElement(o.a,{key:t},e)})),e.actions?c.a.createElement(o.a,null,"actions"):null)),c.a.createElement(l.a,null,e.rows.map((function(a,r){return c.a.createElement(s.a,{key:r},Object.keys(a).filter((function(e){return"productID"!==e&&"shipmentID"!==e})).map((function(e,t){return c.a.createElement(o.a,{key:t},a[e])})),e.productRowActions?c.a.createElement(o.a,null,c.a.createElement("button",{onClick:function(){return e.editProductHandler(Object(n.a)({},a))},className:"btn text-primary"},c.a.createElement(f.a,null)),c.a.createElement("button",{onClick:function(){return function(e){window.confirm("Are you sure?")&&k.a.deleteProduct(e).then((function(){k.a.deleteShipmentByProductID(e),t.fetchData()}))}(r)},className:"btn text-danger"},c.a.createElement(b.a,null))):null,e.shipmentRowActions&&"Pr\xe9s"===a.status?c.a.createElement(o.a,null,c.a.createElement("button",{onClick:function(){return e.editShipmentHandler(Object(n.a)({},a))},className:"btn text-primary"},c.a.createElement(f.a,null)),c.a.createElement("button",{onClick:function(){return function(e){window.confirm("Are you sure?")&&k.a.deleteShipment(e.shipmentID).then(t.fetchData).then((function(){if("Pr\xe9s"===e.status){var a=t.data.tickets.find((function(e){return"Pr\xe9s"===e.status}));a.shipments=a.shipments.filter((function(t){return t!==e.shipmentID})),k.a.editTicket(a,a.id)}}))}(a)},className:"btn text-danger"},c.a.createElement(b.a,null))):null,e.ticketRowActions?c.a.createElement(o.a,null,c.a.createElement("button",{onClick:function(){return e.openTicketHandler(a.uuid)},className:"btn text-danger"},c.a.createElement(h.a,null))):null)})))))}))},143:function(e,t,a){"use strict";a.d(t,"a",(function(){return f}));var n=a(0),r=a.n(n),c=a(44),i=a(754),l=a(746),o=a(709),u=a(780),s=a(748),m=Object(c.a)((function(e){return{root:{"label + &":{marginTop:e.spacing(3)}},input:{borderRadius:4,position:"relative",backgroundColor:e.palette.background.paper,border:"1px solid #ced4da",fontSize:16,padding:"10px 26px 10px 12px",transition:e.transitions.create(["border-color","box-shadow"]),fontFamily:["-apple-system","BlinkMacSystemFont",'"Segoe UI"',"Roboto",'"Helvetica Neue"',"Arial","sans-serif",'"Apple Color Emoji"','"Segoe UI Emoji"','"Segoe UI Symbol"'].join(","),"&:focus":{borderRadius:4,borderColor:"#80bdff",boxShadow:"0 0 0 0.2rem rgba(0,123,255,.25)"}}}}))(u.a),d=Object(i.a)((function(e){return{margin:{margin:e.spacing(1)},buttonStyle:{margin:e.spacing(1),borderRadius:4,position:"relative",fontSize:12}}}));function f(e){var t=d();return r.a.createElement("form",{onSubmit:function(e){e.preventDefault()}},r.a.createElement(l.a,{className:t.margin},r.a.createElement(m,{id:"demo-customized-textbox",onChange:e.filterVar})),r.a.createElement(l.a,{className:t.margin},r.a.createElement(o.a,{id:"demo-customized-select-native",onChange:e.filterBy,input:r.a.createElement(m,null)},r.a.createElement("option",{"aria-label":"None",value:""},"Tous"),e.conditions.map((function(e,t){return r.a.createElement("option",{key:t,value:e.value},e.label)})))),r.a.createElement(s.a,{type:"submit",className:t.buttonStyle,variant:"contained",color:"primary",onClick:e.filter},r.a.createElement("i",{className:"fas fa-filter"})," "," ","Filtre"))}},348:function(e,t,a){},773:function(e,t,a){"use strict";a.r(t);var n=a(117),r=a(0),c=a.n(r),i=a(3),l=a(754),o=a(114),u=a(766),s=a(745),m=a(131),d=a(379),f=a(143),p=a(711),b=a(713),E=a(712),h=a(710),v=a(146),k=a(715),g=a.n(k),y=(a(348),function(e){var t=Object(r.useContext)(o.a);return c.a.createElement("div",{className:"ticket"},c.a.createElement("div",{className:"ticket-head"},"Odelivery"),c.a.createElement("hr",null),c.a.createElement("div",{className:"ticket-body"},c.a.createElement("div",{className:"ticket-element"},"Nom: ",e.name),c.a.createElement("div",{className:"ticket-element"},"adresse: ",e.adress),c.a.createElement("div",{className:"ticket-element"},"Telephone: ",e.phoneNumber),c.a.createElement("div",{className:"ticket-element"},"Produit: ",e.productTitle),c.a.createElement("div",{className:"ticket-element"},"Quantit\xe9: ",e.quantity),c.a.createElement("div",{className:"ticket-element"},"Prix: ",e.price)),c.a.createElement("hr",null),c.a.createElement("div",{className:"ticket-footer"},"telephone d'urgence: ",t.data.data.phoneNumber))}),j=function(e){var t=Object(r.useState)([]),a=Object(n.a)(t,2),i=a[0],l=a[1],u=Object(r.useContext)(o.a);return Object(r.useEffect)((function(){var t=[];console.log(e),u.data.shipments.forEach((function(a){e.shipments.includes(a.id)&&t.push(a)})),l([].concat(t))}),[]),c.a.createElement(c.a.Fragment,null,i.map((function(e,t){return c.a.createElement(y,Object.assign({key:t},e))})))},O=c.a.createRef(),x=function(e){var t=Object(v.a)(),a=Object(h.a)(t.breakpoints.down("sm"));return c.a.createElement("div",null,c.a.createElement(p.a,{maxWidth:"md",fullWidth:!0,fullScreen:a,open:e.openTicket,onClose:e.handleCloseTicket,"aria-labelledby":"form-dialog-title"},c.a.createElement(E.a,{id:"form-dialog-title"},c.a.createElement(g.a,{targetRef:O,filename:"div-blue.pdf"},(function(e){var t=e.toPdf;return c.a.createElement("button",{onClick:t},"Generate pdf")}))),c.a.createElement(b.a,null,c.a.createElement("div",{className:"TicketMain",ref:O},c.a.createElement(j,{shipments:e.ticket.shipments})))))},N=Object(l.a)((function(e){return{container:{paddingTop:e.spacing(4),paddingBottom:e.spacing(4)},paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column"},fixedHeight:{height:290},fixedHeight2:{height:140}}})),S=function(e,t){return{uuid:e,status:t}};t.default=Object(i.withRouter)((function(e){var t=Object(r.useContext)(o.a),a=Object(r.useState)([]),i=Object(n.a)(a,2),l=i[0],p=i[1],b=Object(r.useState)(""),E=Object(n.a)(b,2),h=E[0],v=E[1],k=Object(r.useState)(""),g=Object(n.a)(k,2),y=g[0],j=g[1],O=Object(r.useState)(!1),w=Object(n.a)(O,2),C=w[0],T=w[1],R=Object(r.useState)({}),D=Object(n.a)(R,2),I=D[0],P=D[1],A=function(){if(console.log(t.data.tickets),""!==h){var e=new RegExp(y),a=t.data.tickets?t.data.tickets.filter((function(t){return(""+t[h]).match(e)})).map((function(e){return S(e.uuid,e.status)})):[];p(a)}else{var n=t.data.tickets?t.data.tickets.map((function(e){return S(e.uuid,e.status)})):[];p(n)}};Object(r.useEffect)((function(){document.title="Tickets | Odelivery",A()}),[t.data.tickets]);var B=N();return c.a.createElement(c.a.Fragment,null,c.a.createElement(u.a,{item:!0,xs:12},c.a.createElement("div",{style:{float:"left"}},c.a.createElement(d.a,{component:"h1",variant:"h4",color:"primary",gutterBottom:!0},"Tickets"))),c.a.createElement(u.a,{item:!0,xs:12},c.a.createElement("div",{style:{float:"left"}},c.a.createElement(f.a,{addFunc:function(){return e.history.push(e.match.url+"/add")},filterBy:function(e){v(e.target.value)},filterVar:function(e){j(e.target.value)},filter:A,conditions:[{value:"uuid",label:"UUID"},{value:"status",label:"Statut"}]}))),c.a.createElement(u.a,{item:!0,xs:12},c.a.createElement(s.a,{className:B.paper},c.a.createElement(m.a,{header:["UUID","Statut"],rows:l,actions:!0,ticketRowActions:!0,openTicketHandler:function(e){var a=t.data.tickets.find((function(t){return t.uuid===e}));console.log(a),P(a),T(!0)}}))),c.a.createElement(x,{handleCloseTicket:function(){T(!1)},openTicket:C,ticket:I}))}))}}]);
//# sourceMappingURL=14.9b3ee196.chunk.js.map