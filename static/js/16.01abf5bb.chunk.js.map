{"version":3,"sources":["Components/ClientBoard/Title.js","Components/Tables/Tables.js","Components/Charts/BarCharts.js","Components/Charts/Piechart.js","Components/ClientBoard/Deposits.js","Containers/Client/Dashboard.js"],"names":["Title","props","component","variant","color","gutterBottom","children","withRouter","clientContext","useContext","ClientContext","useEffect","console","log","rows","Fragment","title","size","header","map","id","key","actions","row","Object","keys","filter","val","value","productRowActions","onClick","editProductHandler","className","window","confirm","firebase","deleteProduct","then","deleteShipmentByProductID","fetchData","deleteProductHandler","shipmentRowActions","status","editShipmentHandler","deleteShipment","shipmentID","ticketsWaitingForPickup","data","tickets","find","ticket","shipments","ship","editTicket","deleteShipmentHandler","ticketRowActions","openTicketHandler","uuid","BarCharts","width","height","strokeDasharray","dataKey","fill","name","Example","style","innerRadius","outerRadius","PureComponent","jsfiddleUrl","Deposits","Typography","flex","useStyles","makeStyles","theme","paper","padding","spacing","display","overflow","flexDirection","fixedHeight","fixedHeight2","createData","date","shipTo","paymentMethod","amount","Dashboard","useState","setRevenue","setShipped","setInProgress","setLengthShipments","setSentMoney","setTickValues","setDataProdcutSales","setCitiesStatistics","setStatusStatistics","document","undefined","products","shippedStatus","bills","colis","r","i","length","price","revenueHandler","shippedHandler","inProgressHandler","forEach","bill","sentMoneyHandler","lengthShipmentsHandler","Array","from","x","tickValuesHandler","product","index","shipmentsByProduct","shipment","productID","quarter","earnings","dataProdcutSalesHandler","cities","statistics","city","reduce","a","v","totalLength","tmp","y","t","citiesStatisticsHandler","statisticsPreparing","statisticsIn","statisticsDelivered","statisticsBilled","statisticsCanceled","statisticsNo","statusStatisticsHandler","dataValues","classes","fixedHeightPaper","clsx","fixedHeightDeposits","Grid","item","xs","md","lg","Paper","sm","Tables","CircularProgress"],"mappings":"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","file":"static/js/16.01abf5bb.chunk.js","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport Typography from '@material-ui/core/Typography';\n\nexport default function Title(props) {\n  return (\n    <Typography component=\"h1\" variant=\"h6\" color=\"primary\" gutterBottom>\n      {props.children}\n    </Typography>\n  );\n}\n\nTitle.propTypes = {\n  children: PropTypes.node,\n};\n","import React, { useEffect, useContext } from 'react';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport Title from '../ClientBoard/Title';\nimport CreateIcon from '@material-ui/icons/Create';\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport PictureAsPdfIcon from '@material-ui/icons/PictureAsPdf';\nimport { withRouter } from 'react-router-dom';\nimport firebase from '../../firebase';\nimport ClientContext from '../../context/client-context';\n\nconst Tables = (props) => {\n    const clientContext = useContext(ClientContext);\n    const deleteProductHandler = (id) => {\n        if (window.confirm(\"Are you sure?\"))\n            firebase.deleteProduct(id).then(() => {\n                firebase.deleteShipmentByProductID(id);\n                clientContext.fetchData();\n            }) \n    }\n    const deleteShipmentHandler = (row) => {\n        if (window.confirm(\"Are you sure?\"))\n            firebase.deleteShipment(row.shipmentID).then(clientContext.fetchData).then (() => {\n                if (row.status === \"Prés\") {\n                    const ticketsWaitingForPickup = clientContext.data.tickets.find(ticket => ticket.status === \"Prés\")\n                    ticketsWaitingForPickup.shipments = ticketsWaitingForPickup.shipments.filter(ship => ship !== row.shipmentID);\n                    firebase.editTicket(ticketsWaitingForPickup, ticketsWaitingForPickup.id)\n                }\n            });\n    }\n    useEffect(() => {\n        console.log(props.rows)\n    }, [props.rows])\n    return (\n    <React.Fragment>\n        <Title>{props.title}</Title>\n        <Table size=\"small\">\n            <TableHead>\n                <TableRow>\n                   {props.header.map((header, id) => (\n                       <TableCell key={id}>{header}</TableCell>\n                   ))}\n                   {props.actions ?(\n                            <TableCell>\n                                actions\n                            </TableCell>\n                         ) : null}\n                </TableRow>\n            </TableHead>\n            <TableBody>\n                {props.rows.map((row, id) => (\n                    <TableRow key={id}>\n                        {Object.keys(row).filter(val => (val !== 'productID' && val !== 'shipmentID')).map((value, id) => {\n                            return (\n                                <TableCell key={id}>{row[value]}</TableCell>\n                            )\n                        })}\n                        {props.productRowActions ?(\n                            <TableCell>\n                                <button onClick={()=>props.editProductHandler({...row})} className=\"btn text-primary\">\n                                    <CreateIcon />\n                                </button>\n                                <button \n                                    onClick={() => deleteProductHandler(id)}\n                                    className=\"btn text-danger\">\n                                    <DeleteIcon />\n                                </button>\n                            </TableCell>\n                         ) : null}\n                         {\n                             props.shipmentRowActions && row.status === \"Prés\" ? (\n                                <TableCell>\n                                    <button onClick={()=>props.editShipmentHandler({...row})} className=\"btn text-primary\">\n                                        <CreateIcon />\n                                    </button>\n                                    <button \n                                        onClick={() => deleteShipmentHandler(row)}\n                                        className=\"btn text-danger\">\n                                        <DeleteIcon />\n                                    </button>\n                                </TableCell>\n                             ) : null\n                         }\n                         {\n                             props.ticketRowActions ? (\n                                <TableCell>\n                                    <button onClick={()=>props.openTicketHandler(row.uuid)} className=\"btn text-danger\">\n                                        <PictureAsPdfIcon />\n                                    </button>\n                                </TableCell>\n                             ) : null\n                         }\n                    </TableRow>\n                ))}\n            </TableBody>\n        </Table>\n    </React.Fragment>\n    );\n};\n\nexport default withRouter(Tables);\n\n/*\n\n<TableCell>Date</TableCell>\n                <TableCell>Name</TableCell>\n                <TableCell>Ship To</TableCell>\n                <TableCell>Payment Method</TableCell>\n                <TableCell align=\"right\">Sale Amount</TableCell>\n                <TableCell>Ship To</TableCell>\n                <TableCell>Payment Method</TableCell>\n                <TableCell align=\"right\">Sale Amount</TableCell>\n            \n<TableCell>{row.date}</TableCell>\n                <TableCell>{row.name}</TableCell>\n                <TableCell>{row.shipTo}</TableCell>\n                <TableCell>{row.paymentMethod}</TableCell>\n                <TableCell align=\"right\">{row.amount}</TableCell>\n                <TableCell>{row.shipTo}</TableCell>\n                <TableCell>{row.paymentMethod}</TableCell>\n                <TableCell align=\"right\">{row.amount}</TableCell>\n                */","import React from 'react';\nimport Title from '../ClientBoard/Title';\nimport { BarChart, Legend, XAxis, YAxis, Tooltip, CartesianGrid, Bar, ResponsiveContainer} from 'recharts';\n\n        \nconst BarCharts = () => {\n    const data = [\n        {\"name\": \"TST1\", \"MAD\": 120},\n        {\"name\": \"TST2\", \"MAD\": 10},\n        {\"name\": \"TST3\", \"MAD\": 20}\n    ]\n    return (\n        <>\n            <Title>Overview of Products sales</Title>\n            <ResponsiveContainer>\n                <BarChart width={730} height={250} data={data}>\n                    <CartesianGrid strokeDasharray=\"3 3\" />\n                    <XAxis dataKey=\"name\" />\n                    <YAxis />\n                    <Tooltip />\n                    <Legend />\n                    <Bar dataKey=\"MAD\" fill=\"#DC143C\" />\n                </BarChart>\n        </ResponsiveContainer>\n        </>\n    );\n};\n\nexport default BarCharts;","import React, { PureComponent } from 'react';\nimport {\n  ResponsiveContainer, PieChart, Pie, Tooltip\n} from 'recharts';\nimport Title from '../ClientBoard/Title';\n\nconst data = [\n  { name: 'Group A', value: 400 }, { name: 'Group B', value: 300 },\n  { name: 'Group C', value: 300 }, { name: 'Group D', value: 200 },\n];\n\nexport default class Example extends PureComponent {\n  static jsfiddleUrl = '//jsfiddle.net/alidingling/6okmehja/';\n\n  render() {\n    return (\n      <>\n        <Title>TEST</Title>\n        <div style={{ width: '100%', height: 300 }}>\n          <ResponsiveContainer>\n            <PieChart>\n               <Pie data={data} innerRadius={70} outerRadius={100} fill=\"#82ca9d\"/>  \n               <Tooltip />\n            </PieChart>\n          </ResponsiveContainer>\n        </div>\n      </>\n    );\n  }\n}\n","import React from 'react';\n//import Link from '@material-ui/core/Link';\n//import { makeStyles } from '@material-ui/core/styles';\nimport Typography from '@material-ui/core/Typography';\nimport Title from './Title';\n\n\nexport default function Deposits(props) {\n  return (\n    <React.Fragment>\n      <Title>{props.title}</Title>\n      <Typography component=\"p\" variant=\"h5\">\n        MAD{props.value}\n      </Typography>\n      <Typography color=\"textSecondary\" style={{flex: 1}}>\n        by %\n      </Typography>\n      \n    </React.Fragment>\n  );\n}\n","/* eslint-disable no-unused-vars */\nimport { CircularProgress } from '@material-ui/core';\nimport React, { useEffect, useState, useContext } from 'react';\nimport Container from '@material-ui/core/Container';\nimport Grid from '@material-ui/core/Grid';\nimport Paper from '@material-ui/core/Paper';\nimport BarChart from '../../Components/Charts/BarCharts';\nimport PiChart from '../../Components/Charts/Piechart';\nimport Deposits from '../../Components/ClientBoard/Deposits';\nimport Tables from '../../Components/Tables/Tables';\nimport { makeStyles } from '@material-ui/core/styles';\nimport ClientContext from '../../context/client-context';\nimport clsx from 'clsx';\n\nconst useStyles = makeStyles((theme) => ({\n      paper: {\n        padding: theme.spacing(2),\n        display: 'flex',\n        overflow: 'auto',\n        flexDirection: 'column',\n      },\n      fixedHeight: {\n        height: 400,\n      },\n      fixedHeight2: {\n        height: 140,\n      },\n}))\n\n  \nconst createData = (id, date, name, shipTo, paymentMethod, amount) => {\n    return { id, date, name, shipTo, paymentMethod, amount };\n  }\n  \nconst Dashboard = () => {\n\n  // ------------------------------- Statistics -------------------\n  const clientContext = useContext(ClientContext);\n  const data = clientContext.data;\n  const [revenue, setRevenue] = useState(0);\n  const [shipped, setShipped] = useState(0);\n  const [inProgress, setInProgress] = useState(0);\n  const [lengthShipments, setLengthShipments] = useState(0);\n  const [sentMoney, setSentMoney] = useState(0);\n  // -------------- chartbar -----------------\n  const [tickValues, setTickValues] = useState([]);\n  const [dataProdcutSales, setDataProdcutSales] = useState([]);\n  // -----------------------------------------\n  const [citiesStatistics, setCitiesStatistics] = useState([]);\n  const [statusStatistics, setStatusStatistics] = useState([])\n\n  const revenueHandler = (data) => {\n      const shippedStatus = data.bills.filter(colis => colis.status ==='Facturé' || colis.status ==='Livré');\n      let r = 0;\n      for(let i = 0; i < shippedStatus.length; i++){\n          r += shippedStatus[i].price;\n      }\n      return (r);\n  };\n\n  const shippedHandler = (data) => {\n      const shippedStatus = data.filter(colis => colis.status ==='Facturé' || colis.status ==='Livré');\n      return shippedStatus.length;\n  };\n\n  const inProgressHandler = (data) => {   \n      const inProgressStatus = data.filter(colis => colis.status ==='En cours');\n      return inProgressStatus.length\n  }\n\n  const sentMoneyHandler = (data) => {\n      let amount = 0;\n      data.bills.forEach(bill => {\n          amount += +bill.amount;\n      });\n\n      return(amount);\n  }\n\n  const lengthShipmentsHandler = (data) => data.bills.length;\n\n  const tickValuesHandler = (data) => Array.from(Array(data.products.length).keys(), x => x + 1)\n\n  const dataProdcutSalesHandler = (data) => {\n      const productsSales = data.products.map((product, index) => {\n          const shipmentsByProduct = data.shipments.filter(shipment => (shipment.status ==='Facturé' \n              || shipment.status ==='Livré') && shipment.productID === index);\n              let r = 0;\n              for(let i = 0; i < shipmentsByProduct.length; i++){\n                  r += shipmentsByProduct[i].price;\n              }\n          return {quarter: index + 1, earnings: r}\n      })\n      return productsSales\n  }\n\n  const citiesStatisticsHandler = data => {\n      const cities = [\"Casablanca\", \"Mohammedia\", \"Rabat\", \"Agadir\", \"Marrakech\"];\n      const statistics = cities.map((city) => data.shipments.reduce((a, v)=> (v.city === city ? a + 1 : a), 0))\n      const totalLength = data.shipments.length;\n      let tmp = cities.map((city, index) => {\n          return { x: city, y: statistics[index] / totalLength * 100}\n      })\n      tmp = tmp.filter(t => t.y !== 0);\n      return (tmp);\n  }\n\n  const statusStatisticsHandler = (data) => {\n     const statisticsPreparing = data.shipments.reduce((a, v)=> (v.status === \"Prés\" ? a + 1 : a), 0);\n     const statisticsIn = data.shipments.reduce((a, v)=> (v.status === \"En cours\" ? a + 1 : a), 0);\n     const statisticsDelivered = data.shipments.reduce((a, v)=> (v.status === \"Livré\" ? a + 1 : a), 0);        \n     const statisticsBilled = data.shipments.reduce((a, v)=> (v.status === \"Facturé\" ? a + 1 : a), 0);\n     const statisticsCanceled = data.shipments.reduce((a, v)=> (v.status === \"Annulé\" ? a + 1 : a), 0);\n     const statisticsNo= data.shipments.reduce((a, v)=> (v.status === \"Pas de réponse\" ? a + 1 : a), 0);\n     const totalLength = data.shipments.length;\n     let tmp = [\n      {x: \"Prés\", y: statisticsPreparing / totalLength * 100},\n      {x: \"En cours\", y: statisticsIn / totalLength * 100},\n      {x: \"Livré\", y: statisticsDelivered / totalLength * 100},\n      {x: \"Facturé\", y: statisticsBilled / totalLength * 100},\n      {x: \"Annulé\", y: statisticsCanceled / totalLength * 100},\n      {x: \"Pas de réponse\", y: statisticsNo / totalLength * 100}\n     ];\n     tmp = tmp.filter(t => t.y !== 0);\n     return tmp;\n  }\n\n  useEffect (()=>{\n      document.title= \"Home | Odelivery\";\n      console.log(clientContext);\n      if (data.shipments !== undefined && data.products !== undefined)\n      {\n          setRevenue(revenueHandler(data));\n          setShipped(shippedHandler(data.shipments));\n          setInProgress(inProgressHandler(data.shipments));\n          setSentMoney(sentMoneyHandler(data));\n          setLengthShipments(lengthShipmentsHandler(data));\n          setTickValues(tickValuesHandler(data));\n          setDataProdcutSales(dataProdcutSalesHandler(data));\n          setCitiesStatistics(citiesStatisticsHandler(data));\n          setStatusStatistics(statusStatisticsHandler(data))\n      }\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [clientContext]);\n  // --------------------------------------------------------------\n\n    const dataHeader = ['id', 'Date', 'Name', 'Ship To', 'Payment Method', 'Sale Amount'];\n    const dataValues = [\n      createData(0, '16 Mar, 2019', 'Elvis Presley', 'Tupelo, MS', 'VISA ⠀•••• 3719', 312.44),\n      createData(1, '16 Mar, 2019', 'Paul McCartney', 'London, UK', 'VISA ⠀•••• 2574', 866.99),\n      createData(2, '16 Mar, 2019', 'Tom Scholz', 'Boston, MA', 'MC ⠀•••• 1253', 100.81),\n      createData(3, '16 Mar, 2019', 'Michael Jackson', 'Gary, IN', 'AMEX ⠀•••• 2000', 654.39),\n      createData(4, '15 Mar, 2019', 'Bruce Springsteen', 'Long Branch, NJ', 'VISA ⠀•••• 5919', 212.79),\n    ];\n    const classes = useStyles();\n    const fixedHeightPaper = clsx(classes.paper, classes.fixedHeight);\n    const fixedHeightDeposits = clsx(classes.paper, classes.fixedHeight2);\n    return clientContext.data ? (\n        <>\n          <Grid item xs={12} md={4} lg={3}>\n                <Paper className={fixedHeightDeposits}>\n                    <Deposits title=\"Total\" value={0} />\n                </Paper>\n            </Grid>\n            <Grid item xs={12} md={4} lg={3}>\n                <Paper className={fixedHeightDeposits}>\n                    <Deposits title=\"En cours\" value={0} />\n                </Paper>\n            </Grid>\n            <Grid item xs={12} md={4} lg={3}>\n                <Paper className={fixedHeightDeposits}>\n                    <Deposits title=\"Livrés\" value={0} />\n                </Paper>\n            </Grid>\n            <Grid item xs={12} md={4} lg={3}>\n                <Paper className={fixedHeightDeposits}>\n                    <Deposits title=\"Echouiés\" value={0} />\n                </Paper>\n            </Grid>\n            <Grid item xs={12} md={4} lg={3}>\n                <Paper className={fixedHeightDeposits}>\n                    <Deposits title=\"Total\" value={0} />\n                </Paper>\n            </Grid>\n            <Grid item xs={12} md={4} lg={3}>\n                <Paper className={fixedHeightDeposits}>\n                    <Deposits title=\"En cours\" value={0} />\n                </Paper>\n            </Grid>\n            <Grid item xs={12} md={4} lg={3}>\n                <Paper className={fixedHeightDeposits}>\n                    <Deposits title=\"Livrés\" value={0} />\n                </Paper>\n            </Grid>\n            <Grid item xs={12} md={4} lg={3}>\n                <Paper className={fixedHeightDeposits}>\n                    <Deposits title=\"Echouiés\" value={0} />\n                </Paper>\n            </Grid>\n            <Grid item xs={12} sm={6}>\n                <Paper className={fixedHeightPaper}>\n                    <PiChart />\n                </Paper>\n            </Grid>\n            <Grid item xs={12} sm={6}>\n                <Paper className={fixedHeightPaper}>\n                    <PiChart />\n                </Paper>\n            </Grid>\n            <Grid item xs={12}>\n                <Paper className={fixedHeightPaper}>\n                    <BarChart />\n                </Paper>\n            </Grid>\n            <Grid item xs={12}>\n                <Paper className={classes.paper}>\n                  <Tables title=\"Les derniers factures\" header={dataHeader} rows={dataValues}/>\n                </Paper>\n            </Grid>\n          </>\n    ) : <div id=\"loader\"><CircularProgress /></div>\n};\n\nexport default Dashboard;\n\n\n/*\n\n            */"],"sourceRoot":""}