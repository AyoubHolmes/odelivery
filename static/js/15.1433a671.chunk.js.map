{"version":3,"sources":["Components/ClientBoard/Title.js","Components/Tables/Tables.js","Components/Inputs/BootstrapInput.js","Containers/Client/Bills/Bills.js"],"names":["Title","props","component","variant","color","gutterBottom","children","withRouter","clientContext","useContext","ClientContext","useEffect","console","log","rows","Fragment","title","size","header","map","id","key","actions","row","Object","keys","filter","val","value","productRowActions","onClick","editProductHandler","className","window","confirm","firebase","deleteProduct","then","deleteShipmentByProductID","fetchData","deleteProductHandler","shipmentRowActions","status","editShipmentHandler","deleteShipment","shipmentID","ticketsWaitingForPickup","data","tickets","find","ticket","shipments","ship","editTicket","deleteShipmentHandler","ticketRowActions","openTicketHandler","uuid","BootstrapInput","withStyles","theme","root","marginTop","spacing","input","borderRadius","position","backgroundColor","palette","background","paper","border","fontSize","padding","transition","transitions","create","fontFamily","join","borderColor","boxShadow","InputBase","useStyles","makeStyles","margin","buttonStyle","CustomizedSelects","classes","onSubmit","event","preventDefault","onChange","filterVar","filterBy","aria-label","conditions","cond","index","label","type","container","paddingTop","paddingBottom","display","overflow","flexDirection","fixedHeight","height","fixedHeight2","createData","nbColis","amount","dateCreation","datePayment","useState","dataValues","setDataValues","setFilterBy","setFilterVar","filterButtonHandler","products","rgx","RegExp","tmp","bills","bill","match","document","item","xs","style","float","addFunc","history","push","url","target"],"mappings":"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","file":"static/js/15.1433a671.chunk.js","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport Typography from '@material-ui/core/Typography';\n\nexport default function Title(props) {\n  return (\n    <Typography component=\"h1\" variant=\"h6\" color=\"primary\" gutterBottom>\n      {props.children}\n    </Typography>\n  );\n}\n\nTitle.propTypes = {\n  children: PropTypes.node,\n};\n","import React, { useEffect, useContext } from 'react';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport Title from '../ClientBoard/Title';\nimport CreateIcon from '@material-ui/icons/Create';\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport PictureAsPdfIcon from '@material-ui/icons/PictureAsPdf';\nimport { withRouter } from 'react-router-dom';\nimport firebase from '../../firebase';\nimport ClientContext from '../../context/client-context';\n\nconst Tables = (props) => {\n    const clientContext = useContext(ClientContext);\n    const deleteProductHandler = (id) => {\n        if (window.confirm(\"Are you sure?\"))\n            firebase.deleteProduct(id).then(() => {\n                firebase.deleteShipmentByProductID(id);\n                clientContext.fetchData();\n            }) \n    }\n    const deleteShipmentHandler = (row) => {\n        if (window.confirm(\"Are you sure?\"))\n            firebase.deleteShipment(row.shipmentID).then(clientContext.fetchData).then (() => {\n                if (row.status === \"Prés\") {\n                    const ticketsWaitingForPickup = clientContext.data.tickets.find(ticket => ticket.status === \"Prés\")\n                    ticketsWaitingForPickup.shipments = ticketsWaitingForPickup.shipments.filter(ship => ship !== row.shipmentID);\n                    firebase.editTicket(ticketsWaitingForPickup, ticketsWaitingForPickup.id)\n                }\n            });\n    }\n    useEffect(() => {\n        console.log(props.rows)\n    }, [props.rows])\n    return (\n    <React.Fragment>\n        <Title>{props.title}</Title>\n        <Table size=\"small\">\n            <TableHead>\n                <TableRow>\n                   {props.header.map((header, id) => (\n                       <TableCell key={id}>{header}</TableCell>\n                   ))}\n                   {props.actions ?(\n                            <TableCell>\n                                actions\n                            </TableCell>\n                         ) : null}\n                </TableRow>\n            </TableHead>\n            <TableBody>\n                {props.rows.map((row, id) => (\n                    <TableRow key={id}>\n                        {Object.keys(row).filter(val => (val !== 'productID' && val !== 'shipmentID')).map((value, id) => {\n                            return (\n                                <TableCell key={id}>{row[value]}</TableCell>\n                            )\n                        })}\n                        {props.productRowActions ?(\n                            <TableCell>\n                                <button onClick={()=>props.editProductHandler({...row})} className=\"btn text-primary\">\n                                    <CreateIcon />\n                                </button>\n                                <button \n                                    onClick={() => deleteProductHandler(id)}\n                                    className=\"btn text-danger\">\n                                    <DeleteIcon />\n                                </button>\n                            </TableCell>\n                         ) : null}\n                         {\n                             props.shipmentRowActions && row.status === \"Prés\" ? (\n                                <TableCell>\n                                    <button onClick={()=>props.editShipmentHandler({...row})} className=\"btn text-primary\">\n                                        <CreateIcon />\n                                    </button>\n                                    <button \n                                        onClick={() => deleteShipmentHandler(row)}\n                                        className=\"btn text-danger\">\n                                        <DeleteIcon />\n                                    </button>\n                                </TableCell>\n                             ) : null\n                         }\n                         {\n                             props.ticketRowActions ? (\n                                <TableCell>\n                                    <button onClick={()=>props.openTicketHandler(row.uuid)} className=\"btn text-danger\">\n                                        <PictureAsPdfIcon />\n                                    </button>\n                                </TableCell>\n                             ) : null\n                         }\n                    </TableRow>\n                ))}\n            </TableBody>\n        </Table>\n    </React.Fragment>\n    );\n};\n\nexport default withRouter(Tables);\n\n/*\n\n<TableCell>Date</TableCell>\n                <TableCell>Name</TableCell>\n                <TableCell>Ship To</TableCell>\n                <TableCell>Payment Method</TableCell>\n                <TableCell align=\"right\">Sale Amount</TableCell>\n                <TableCell>Ship To</TableCell>\n                <TableCell>Payment Method</TableCell>\n                <TableCell align=\"right\">Sale Amount</TableCell>\n            \n<TableCell>{row.date}</TableCell>\n                <TableCell>{row.name}</TableCell>\n                <TableCell>{row.shipTo}</TableCell>\n                <TableCell>{row.paymentMethod}</TableCell>\n                <TableCell align=\"right\">{row.amount}</TableCell>\n                <TableCell>{row.shipTo}</TableCell>\n                <TableCell>{row.paymentMethod}</TableCell>\n                <TableCell align=\"right\">{row.amount}</TableCell>\n                */","import React from 'react';\nimport { makeStyles, withStyles } from '@material-ui/core/styles';\n//import InputLabel from '@material-ui/core/InputLabel';\n//import MenuItem from '@material-ui/core/MenuItem';\nimport FormControl from '@material-ui/core/FormControl';\n//import Select from '@material-ui/core/Select';\nimport NativeSelect from '@material-ui/core/NativeSelect';\nimport InputBase from '@material-ui/core/InputBase';\nimport Button from '@material-ui/core/Button';\n\n\nconst BootstrapInput = withStyles((theme) => ({\n  root: {\n    'label + &': {\n      marginTop: theme.spacing(3),\n    },\n  },\n  input: {\n    borderRadius: 4,\n    position: 'relative',\n    backgroundColor: theme.palette.background.paper,\n    border: '1px solid #ced4da',\n    fontSize: 16,\n    padding: '10px 26px 10px 12px',\n    transition: theme.transitions.create(['border-color', 'box-shadow']),\n    // Use the system font instead of the default Roboto font.\n    fontFamily: [\n      '-apple-system',\n      'BlinkMacSystemFont',\n      '\"Segoe UI\"',\n      'Roboto',\n      '\"Helvetica Neue\"',\n      'Arial',\n      'sans-serif',\n      '\"Apple Color Emoji\"',\n      '\"Segoe UI Emoji\"',\n      '\"Segoe UI Symbol\"',\n    ].join(','),\n    '&:focus': {\n      borderRadius: 4,\n      borderColor: '#80bdff',\n      boxShadow: '0 0 0 0.2rem rgba(0,123,255,.25)',\n    },\n  },\n}))(InputBase);\n\nconst useStyles = makeStyles((theme) => ({\n  margin: {\n    margin: theme.spacing(1),\n  },\n  buttonStyle: {\n    margin: theme.spacing(1),\n    borderRadius: 4,\n    position: 'relative',\n    fontSize: 12,\n  }\n}));\n\nexport default function CustomizedSelects(props) {\n  const classes = useStyles();\n  return (\n    <form onSubmit={(event) => {event.preventDefault()}}>\n      <FormControl className={classes.margin}>\n        <BootstrapInput id=\"demo-customized-textbox\" onChange={props.filterVar} />\n      </FormControl>\n      <FormControl className={classes.margin}>\n        <NativeSelect\n          id=\"demo-customized-select-native\"\n          onChange={props.filterBy}\n          input={<BootstrapInput />}\n        >\n          <option aria-label=\"None\" value=\"\">Tous</option>\n          {props.conditions.map((cond, index) => {\n            return (<option key={index} value={cond.value}>{cond.label}</option>);\n          })}\n        </NativeSelect>\n      </FormControl>\n      <Button type=\"submit\" className={classes.buttonStyle} variant=\"contained\" color=\"primary\" onClick={props.filter}>\n            <i className=\"fas fa-filter\"></i> {' '}Filtre\n        </Button>\n    </form>\n  );\n}\n","import React, { useContext, useEffect, useState } from 'react';\nimport { withRouter } from 'react-router-dom';\nimport { makeStyles } from '@material-ui/core/styles';\nimport ClientContext from '../../../context/client-context';\nimport Grid from '@material-ui/core/Grid';\nimport Paper from '@material-ui/core/Paper';\nimport Tables from '../../../Components/Tables/Tables';\nimport Typography from '@material-ui/core/Typography';\nimport InputTest from '../../../Components/Inputs/BootstrapInput'\n\nconst useStyles = makeStyles((theme) => ({\n    container: {\n      paddingTop: theme.spacing(4),\n      paddingBottom: theme.spacing(4),\n    },\n    paper: {\n      padding: theme.spacing(2),\n      display: 'flex',\n      overflow: 'auto',\n      flexDirection: 'column',\n    },\n    fixedHeight: {\n      height: 290,\n    },\n    fixedHeight2: {\n      height: 140,\n    },\n}))\n\nconst createData = (uuid, status, nbColis, amount, dateCreation, datePayment) => {\n    return { uuid, status, nbColis, amount, dateCreation, datePayment };\n  }\n\n\nconst Bills = (props) => {\n\n    const clientContext = useContext(ClientContext);\n\n    const dataHeader = ['UUID', 'Statut', 'Nb.colis', 'Montant', 'Date de Creation', 'Date de Verment'];\n    const [dataValues, setDataValues] = useState([]);\n    const [filterBy, setFilterBy] = useState(\"\");\n    const [filterVar, setFilterVar] = useState(\"\");\n\n    const conditions = [\n        {value: 'uuid', label: 'UUID'},\n        {value: 'status', label: 'Statut'},\n        {value: 'Nb.colis', label: 'Nb.colis'},\n        {value: 'amount', label: 'Montant'},\n        {value: 'dateCreation', label: 'Date de Creation'},\n        {value: 'datePayment', label: 'Date de Verment'},\n    ]\n\n    \n\n    const filterByHandler = (filter) => {\n        setFilterBy(filter.target.value);\n    }\n    const filterVarHandler = (filter) => {\n        setFilterVar(filter.target.value);\n    }\n\n    const filterButtonHandler = () => {\n        console.log(clientContext.data.products);\n        if (filterBy !== \"\" && filterBy !== \"left\")\n        {\n            const rgx =new RegExp(filterVar);\n            const tmp = clientContext.data.bills ? clientContext.data.bills.filter((bill) => (\"\" + bill[filterBy]).match(rgx)).map((bill) => {  \n                const test = createData(bill.uuid, bill.status, bill['Nb.colis'], bill.amount, bill.dateCreation, bill.datePayment);\n                return test\n            }) : [];\n            setDataValues(tmp);\n        }\n        else {\n            const tmp = clientContext.data.bills ? clientContext.data.bills.map((bill) => {  \n                const test = createData(bill.uuid, bill.status, bill['Nb.colis'], bill.amount, bill.dateCreation, bill.datePayment);\n                return test\n            }) : [];\n            setDataValues(tmp);\n        }\n    }\n\n    useEffect(() => {\n        document.title= \"Factures | Odelivery\";\n        filterButtonHandler();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [clientContext.data.products]);\n\n    const classes = useStyles();\n    return (\n        <> \n            <Grid item xs={12}>\n                <div style={{float: 'left'}}>\n                    <Typography component=\"h1\" variant=\"h4\" color=\"primary\" gutterBottom>\n                        Factures\n                    </Typography>\n                    \n                </div>\n            </Grid>\n            <Grid item xs={12}>\n                <div style={{float: 'left'}}>\n                    <InputTest\n                        addFunc={()=>props.history.push(props.match.url + '/add')}\n                        filterBy={filterByHandler}\n                        filterVar={filterVarHandler}\n                        filter={filterButtonHandler}\n                        conditions={conditions}\n                    />\n                </div>\n            </Grid>\n            <Grid item xs={12}>\n                    <Paper className={classes.paper}>\n                        <Tables header={dataHeader} rows={dataValues} />\n                    </Paper>\n            </Grid>\n        </>\n    );\n};\n\nexport default  withRouter(Bills);"],"sourceRoot":""}