{"version":3,"sources":["Components/ClientBoard/Title.js","Components/Tables/Tables.js","Components/Inputs/BootstrapInput.js","Containers/Client/tickets/SingleTicket.js","Containers/Client/tickets/TicketPDF.js","Containers/Client/tickets/TicketPopUp.js","Containers/Client/tickets/MainTickets.js"],"names":["Title","props","component","variant","color","gutterBottom","children","withRouter","clientContext","useContext","ClientContext","useEffect","console","log","rows","Fragment","title","size","header","map","id","key","actions","row","Object","keys","filter","val","value","productRowActions","onClick","editProductHandler","className","window","confirm","firebase","deleteProduct","then","deleteShipmentByProductID","fetchData","deleteProductHandler","shipmentRowActions","status","editShipmentHandler","deleteShipment","shipmentID","ticketsWaitingForPickup","data","tickets","find","ticket","shipments","ship","editTicket","deleteShipmentHandler","ticketRowActions","openTicketHandler","uuid","BootstrapInput","withStyles","theme","root","marginTop","spacing","input","borderRadius","position","backgroundColor","palette","background","paper","border","fontSize","padding","transition","transitions","create","fontFamily","join","borderColor","boxShadow","InputBase","useStyles","makeStyles","margin","buttonStyle","CustomizedSelects","classes","onSubmit","event","preventDefault","onChange","filterVar","filterBy","aria-label","conditions","cond","index","label","type","SingleTicket","name","adress","phoneNumber","productTitle","quantity","price","TicketPDF","useState","setShipments","ships","forEach","shipment","includes","push","ref","React","createRef","TicketPopUp","useTheme","fullScreen","useMediaQuery","breakpoints","down","Dialog","maxWidth","fullWidth","open","openTicket","onClose","handleCloseTicket","aria-labelledby","DialogTitle","targetRef","filename","toPdf","DialogContent","container","paddingTop","paddingBottom","display","overflow","flexDirection","fixedHeight","height","fixedHeight2","createData","dataValues","setDataValues","setFilterBy","setFilterVar","setOpenTicket","setTicket","filterButtonHandler","rgx","RegExp","tmp","match","document","Grid","item","xs","style","float","Typography","addFunc","history","url","target","Paper","Tables","t"],"mappings":"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","file":"static/js/14.9b3ee196.chunk.js","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport Typography from '@material-ui/core/Typography';\n\nexport default function Title(props) {\n  return (\n    <Typography component=\"h1\" variant=\"h6\" color=\"primary\" gutterBottom>\n      {props.children}\n    </Typography>\n  );\n}\n\nTitle.propTypes = {\n  children: PropTypes.node,\n};\n","import React, { useEffect, useContext } from 'react';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport Title from '../ClientBoard/Title';\nimport CreateIcon from '@material-ui/icons/Create';\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport PictureAsPdfIcon from '@material-ui/icons/PictureAsPdf';\nimport { withRouter } from 'react-router-dom';\nimport firebase from '../../firebase';\nimport ClientContext from '../../context/client-context';\n\nconst Tables = (props) => {\n    const clientContext = useContext(ClientContext);\n    const deleteProductHandler = (id) => {\n        if (window.confirm(\"Are you sure?\"))\n            firebase.deleteProduct(id).then(() => {\n                firebase.deleteShipmentByProductID(id);\n                clientContext.fetchData();\n            }) \n    }\n    const deleteShipmentHandler = (row) => {\n        if (window.confirm(\"Are you sure?\"))\n            firebase.deleteShipment(row.shipmentID).then(clientContext.fetchData).then (() => {\n                if (row.status === \"Prés\") {\n                    const ticketsWaitingForPickup = clientContext.data.tickets.find(ticket => ticket.status === \"Prés\")\n                    ticketsWaitingForPickup.shipments = ticketsWaitingForPickup.shipments.filter(ship => ship !== row.shipmentID);\n                    firebase.editTicket(ticketsWaitingForPickup, ticketsWaitingForPickup.id)\n                }\n            });\n    }\n    useEffect(() => {\n        console.log(props.rows)\n    }, [props.rows])\n    return (\n    <React.Fragment>\n        <Title>{props.title}</Title>\n        <Table size=\"small\">\n            <TableHead>\n                <TableRow>\n                   {props.header.map((header, id) => (\n                       <TableCell key={id}>{header}</TableCell>\n                   ))}\n                   {props.actions ?(\n                            <TableCell>\n                                actions\n                            </TableCell>\n                         ) : null}\n                </TableRow>\n            </TableHead>\n            <TableBody>\n                {props.rows.map((row, id) => (\n                    <TableRow key={id}>\n                        {Object.keys(row).filter(val => (val !== 'productID' && val !== 'shipmentID')).map((value, id) => {\n                            return (\n                                <TableCell key={id}>{row[value]}</TableCell>\n                            )\n                        })}\n                        {props.productRowActions ?(\n                            <TableCell>\n                                <button onClick={()=>props.editProductHandler({...row})} className=\"btn text-primary\">\n                                    <CreateIcon />\n                                </button>\n                                <button \n                                    onClick={() => deleteProductHandler(id)}\n                                    className=\"btn text-danger\">\n                                    <DeleteIcon />\n                                </button>\n                            </TableCell>\n                         ) : null}\n                         {\n                             props.shipmentRowActions && row.status === \"Prés\" ? (\n                                <TableCell>\n                                    <button onClick={()=>props.editShipmentHandler({...row})} className=\"btn text-primary\">\n                                        <CreateIcon />\n                                    </button>\n                                    <button \n                                        onClick={() => deleteShipmentHandler(row)}\n                                        className=\"btn text-danger\">\n                                        <DeleteIcon />\n                                    </button>\n                                </TableCell>\n                             ) : null\n                         }\n                         {\n                             props.ticketRowActions ? (\n                                <TableCell>\n                                    <button onClick={()=>props.openTicketHandler(row.uuid)} className=\"btn text-danger\">\n                                        <PictureAsPdfIcon />\n                                    </button>\n                                </TableCell>\n                             ) : null\n                         }\n                    </TableRow>\n                ))}\n            </TableBody>\n        </Table>\n    </React.Fragment>\n    );\n};\n\nexport default withRouter(Tables);\n\n/*\n\n<TableCell>Date</TableCell>\n                <TableCell>Name</TableCell>\n                <TableCell>Ship To</TableCell>\n                <TableCell>Payment Method</TableCell>\n                <TableCell align=\"right\">Sale Amount</TableCell>\n                <TableCell>Ship To</TableCell>\n                <TableCell>Payment Method</TableCell>\n                <TableCell align=\"right\">Sale Amount</TableCell>\n            \n<TableCell>{row.date}</TableCell>\n                <TableCell>{row.name}</TableCell>\n                <TableCell>{row.shipTo}</TableCell>\n                <TableCell>{row.paymentMethod}</TableCell>\n                <TableCell align=\"right\">{row.amount}</TableCell>\n                <TableCell>{row.shipTo}</TableCell>\n                <TableCell>{row.paymentMethod}</TableCell>\n                <TableCell align=\"right\">{row.amount}</TableCell>\n                */","import React from 'react';\nimport { makeStyles, withStyles } from '@material-ui/core/styles';\n//import InputLabel from '@material-ui/core/InputLabel';\n//import MenuItem from '@material-ui/core/MenuItem';\nimport FormControl from '@material-ui/core/FormControl';\n//import Select from '@material-ui/core/Select';\nimport NativeSelect from '@material-ui/core/NativeSelect';\nimport InputBase from '@material-ui/core/InputBase';\nimport Button from '@material-ui/core/Button';\n\n\nconst BootstrapInput = withStyles((theme) => ({\n  root: {\n    'label + &': {\n      marginTop: theme.spacing(3),\n    },\n  },\n  input: {\n    borderRadius: 4,\n    position: 'relative',\n    backgroundColor: theme.palette.background.paper,\n    border: '1px solid #ced4da',\n    fontSize: 16,\n    padding: '10px 26px 10px 12px',\n    transition: theme.transitions.create(['border-color', 'box-shadow']),\n    // Use the system font instead of the default Roboto font.\n    fontFamily: [\n      '-apple-system',\n      'BlinkMacSystemFont',\n      '\"Segoe UI\"',\n      'Roboto',\n      '\"Helvetica Neue\"',\n      'Arial',\n      'sans-serif',\n      '\"Apple Color Emoji\"',\n      '\"Segoe UI Emoji\"',\n      '\"Segoe UI Symbol\"',\n    ].join(','),\n    '&:focus': {\n      borderRadius: 4,\n      borderColor: '#80bdff',\n      boxShadow: '0 0 0 0.2rem rgba(0,123,255,.25)',\n    },\n  },\n}))(InputBase);\n\nconst useStyles = makeStyles((theme) => ({\n  margin: {\n    margin: theme.spacing(1),\n  },\n  buttonStyle: {\n    margin: theme.spacing(1),\n    borderRadius: 4,\n    position: 'relative',\n    fontSize: 12,\n  }\n}));\n\nexport default function CustomizedSelects(props) {\n  const classes = useStyles();\n  return (\n    <form onSubmit={(event) => {event.preventDefault()}}>\n      <FormControl className={classes.margin}>\n        <BootstrapInput id=\"demo-customized-textbox\" onChange={props.filterVar} />\n      </FormControl>\n      <FormControl className={classes.margin}>\n        <NativeSelect\n          id=\"demo-customized-select-native\"\n          onChange={props.filterBy}\n          input={<BootstrapInput />}\n        >\n          <option aria-label=\"None\" value=\"\">Tous</option>\n          {props.conditions.map((cond, index) => {\n            return (<option key={index} value={cond.value}>{cond.label}</option>);\n          })}\n        </NativeSelect>\n      </FormControl>\n      <Button type=\"submit\" className={classes.buttonStyle} variant=\"contained\" color=\"primary\" onClick={props.filter}>\n            <i className=\"fas fa-filter\"></i> {' '}Filtre\n        </Button>\n    </form>\n  );\n}\n","import React, { useContext } from 'react';\nimport ClientContext from '../../../context/client-context';\nimport './Ticket.css';\n\nconst SingleTicket = (props) => {\n    const clientContext = useContext(ClientContext);\n    return (\n        <div className= \"ticket\">\n            <div className=\"ticket-head\">Odelivery</div>\n            <hr />\n            <div className=\"ticket-body\">\n                <div className=\"ticket-element\">Nom: {props.name}</div>\n                <div className=\"ticket-element\">adresse: {props.adress}</div>\n                <div className=\"ticket-element\">Telephone: {props.phoneNumber}</div>\n                <div className=\"ticket-element\">Produit: {props.productTitle}</div>\n                <div className=\"ticket-element\">Quantité: {props.quantity}</div>\n                <div className=\"ticket-element\">Prix: {props.price}</div>\n            </div>\n            <hr />\n            <div className=\"ticket-footer\">\n                telephone d'urgence: {clientContext.data.data.phoneNumber}\n            </div>\n        </div>\n    );\n};\n\nexport default SingleTicket;","import React, {useState, useEffect, useContext} from 'react';\nimport clientContext from '../../../context/client-context';\nimport SingleTicket from './SingleTicket';\n\nconst TicketPDF = (props) => {\n\n    // eslint-disable-next-line no-unused-vars\n    const [shipments, setShipments] = useState([]);\n    const ClientContext = useContext(clientContext);\n    useEffect(()=>{\n        const ships = []\n        console.log(props);\n        ClientContext.data.shipments.forEach((shipment) => {\n            if(props.shipments.includes(shipment.id)){\n                ships.push(shipment)\n            }\n        });\n        setShipments([...ships])\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [])\n\n    return (\n        <>\n            {shipments.map((shipment, index) => <SingleTicket key={index} {...shipment}/>)}\n        </>\n    );\n};\n\n/*\n<PDFViewer style={{ width: '100%', height: '100%' }}>\n        <Document>\n          <Page>\n            <Text>TEST</Text>\n          </Page>\n        </Document>\n      </PDFViewer>\n\n<PDFViewer style={{width: '100%', height: '500px'}}>\n            <Document style={{width: '100%', padding: 20}}>\n                <Page size=\"A4\" style={{ backgroundColor: 'white' }}>\n                    <Heading>\n                        <Title>Odelivery</Title>\n                    </Heading>\n                    {shipments ? Object.values(shipments).map((shipment, index)=> {\n                        return (\n                            <>\n                            <Heading>\n                                <Title>Odelivery</Title>\n                            </Heading>\n                            <SubHeading>\n                                name: {shipment.name}\n                            </SubHeading>\n                            <SubHeading>\n                                address: {shipment.adress}\n                            </SubHeading>\n                            <SubHeading>\n                                phone number: {shipment.phoneNumber}\n                            </SubHeading>\n                            <SubHeading>\n                                product: {shipment.productTitle}\n                            </SubHeading>\n                            <SubHeading>\n                                price: {shipment.price}\n                            </SubHeading>\n                            <FinalSubHeading>\n                                PHONE OF USER: {ClientContext.data.data.phoneNumber}\n                            </FinalSubHeading>\n                            </>\n                        )\n                    }) : null}\n                </Page>\n            </Document>\n        </PDFViewer>\n*/\n\n/*\n <Heading>\n                        <Title>Odelivery</Title>\n                    </Heading>\n                    <SubHeading>\n                        \n                    </SubHeading>\n\n<Page size=\"A4\" style={{ backgroundColor: 'white' }}>\n                    <View style={{ color: 'black', border: '5px solid black', width: '100%', margin: '10px', padding: '10px' }}>\n                        <Text style={{fontSize: '30px'}}>Odelivery</Text>\n                        <Text style={{fontSize: '10px'}}>UUID</Text>                    \n                    </View>\n                    <View style={{ color: 'black', border: '5px solid black', width: '100%', padding: '10px' }}>\n                        <Text style={{fontSize: '30px'}}>Odelivery</Text>\n                        <Text style={{fontSize: '10px'}}>UUID</Text>                    \n                    </View>\n                </Page>\n*/\nexport default TicketPDF;","import React from 'react';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport useMediaQuery from '@material-ui/core/useMediaQuery';\nimport { useTheme } from '@material-ui/core/styles';\nimport ReactToPdf from 'react-to-pdf';\nimport TicketPDF from './TicketPDF';\nimport './Ticket.css';\n\nconst ref = React.createRef();\n\nconst TicketPopUp = (props) => {\n\n    const theme = useTheme();\n    const fullScreen = useMediaQuery(theme.breakpoints.down('sm'));\n\n    return (\n        <div>\n            <Dialog maxWidth=\"md\" fullWidth={true} fullScreen={fullScreen} open={props.openTicket} onClose={props.handleCloseTicket} aria-labelledby=\"form-dialog-title\">\n                <DialogTitle id=\"form-dialog-title\">\n                    <ReactToPdf targetRef={ref} filename=\"div-blue.pdf\">\n                        {({toPdf}) => (\n                            <button onClick={toPdf}>Generate pdf</button>\n                        )}\n                    </ReactToPdf>\n                </DialogTitle>\n                <DialogContent>\n                    <div className=\"TicketMain\" ref={ref}>\n                        <TicketPDF shipments={props.ticket.shipments}/>\n                    </div>\n                </DialogContent>\n            </Dialog>\n        </div>\n    );\n};\n\nexport default TicketPopUp;","import React, { useContext, useEffect, useState } from 'react';\nimport { withRouter } from 'react-router-dom';\nimport { makeStyles } from '@material-ui/core/styles';\nimport ClientContext from '../../../context/client-context';\nimport Grid from '@material-ui/core/Grid';\nimport Paper from '@material-ui/core/Paper';\nimport Tables from '../../../Components/Tables/Tables';\nimport Typography from '@material-ui/core/Typography';\nimport InputTest from '../../../Components/Inputs/BootstrapInput'\nimport TicketPopUp from './TicketPopUp';\n\nconst useStyles = makeStyles((theme) => ({\n    container: {\n      paddingTop: theme.spacing(4),\n      paddingBottom: theme.spacing(4),\n    },\n    paper: {\n      padding: theme.spacing(2),\n      display: 'flex',\n      overflow: 'auto',\n      flexDirection: 'column',\n    },\n    fixedHeight: {\n      height: 290,\n    },\n    fixedHeight2: {\n      height: 140,\n    },\n}))\n\nconst createData = (uuid, status) => {\n    return { uuid, status};\n  }\n\n\nconst Tickets = (props) => {\n\n    const clientContext = useContext(ClientContext);\n\n    const dataHeader = ['UUID', 'Statut'];\n    const [dataValues, setDataValues] = useState([]);\n    const [filterBy, setFilterBy] = useState(\"\");\n    const [filterVar, setFilterVar] = useState(\"\");\n    const [openTicket, setOpenTicket] = useState(false);\n    const [ticket, setTicket] = useState({});\n\n    const conditions = [\n        {value: 'uuid', label: 'UUID'},\n        {value: 'status', label: 'Statut'},\n    ]\n\n\n    const handleCloseTicket = () => {\n        setOpenTicket(false);\n    }\n\n    const openTicketHandler = (uuid) => {\n        const tmp  = clientContext.data.tickets.find(t => t.uuid === uuid);\n        console.log(tmp);\n        setTicket(tmp);\n        setOpenTicket(true);\n    }\n\n    const filterByHandler = (filter) => {\n        setFilterBy(filter.target.value);\n    }\n    const filterVarHandler = (filter) => {\n        setFilterVar(filter.target.value);\n    }\n\n    const filterButtonHandler = () => {\n        console.log(clientContext.data.tickets);\n        if (filterBy !== \"\") {\n            const rgx =new RegExp(filterVar);\n            const tmp = clientContext.data.tickets ? clientContext.data.tickets.filter((ticket) => (\"\" + ticket[filterBy]).match(rgx)).map((ticket) => {  \n                const test = createData(ticket.uuid, ticket.status);\n                return test\n            }) : [];\n            setDataValues(tmp);\n        }\n        else {\n            const tmp = clientContext.data.tickets ? clientContext.data.tickets.map((ticket) => {  \n                const test = createData(ticket.uuid, ticket.status);\n                return test\n            }) : [];\n            setDataValues(tmp);\n        }\n    }\n\n    useEffect(() => {\n        document.title= \"Tickets | Odelivery\";\n        filterButtonHandler();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [clientContext.data.tickets]);\n\n    const classes = useStyles();\n    return (\n        <> \n            <Grid item xs={12}>\n                <div style={{float: 'left'}}>\n                    <Typography component=\"h1\" variant=\"h4\" color=\"primary\" gutterBottom>\n                        Tickets\n                    </Typography>\n                    \n                </div>\n            </Grid>\n            <Grid item xs={12}>\n                <div style={{float: 'left'}}>\n                    <InputTest\n                        addFunc={()=>props.history.push(props.match.url + '/add')}\n                        filterBy={filterByHandler}\n                        filterVar={filterVarHandler}\n                        filter={filterButtonHandler}\n                        conditions={conditions}\n                    />\n                </div>\n            </Grid>\n            <Grid item xs={12}>\n                    <Paper className={classes.paper}>\n                        <Tables header={dataHeader} rows={dataValues} actions={true} ticketRowActions={true} openTicketHandler={openTicketHandler}/>\n                    </Paper>\n            </Grid>\n            <TicketPopUp handleCloseTicket={handleCloseTicket} openTicket={openTicket} ticket={ticket}/>\n        </>\n    );\n};\n\nexport default  withRouter(Tickets);"],"sourceRoot":""}